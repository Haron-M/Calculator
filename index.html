<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,         initial-scale=1.0">
    <title>Title</title>
    <style>
        body {
            margin: 0;
            padding: 0;
        }
        .overall-container {
            display: flex;
            flex-direction: column;
            text-align: center;
            align-items: center;
        }
        header {
            background-color: rgb(124, 114, 59);
            color: white;
            padding: 10px 20px;
            font-family: Arial, Helvetica, sans-serif;
            font-size: 20px;
            text-transform: capitalize;
            text-align: center;
        }
        .units-insertion {
            margin-top: 10px;
        }
        .units-insertion > label {
            font-size: 17px;
            margin-bottom: 10px;
        }
        .input-box {
            width: 200px;
            height: 21px;
            margin-top: 5px;
            font-family: 'Times New Roman', Times, serif;
            font-size: 16px;
        }
        .input-box::placeholder {
            padding: 6px;
        }
        .submit-button {
            background-color: rgb(62, 182, 62);
            border: none;
            border-radius: 3px;
            padding: 4px 15px;
            color: white;
            box-shadow: 2px 2px 7px rgb(21, 19, 19);
        }
        table {
            background-color: rgb(134, 117, 117);
            column-gap: 10px;
            row-gap: 2px;
            border-radius: 5px;
            margin-top: 10px;
        }
        caption {
            text-transform: uppercase;
            font-weight: 700;
        }
        tr {
            background-color: aquamarine;
        }
        th, td {
            padding: 5px 20px;
            text-align: center;
        }
        th {
            text-transform: uppercase;
        }
        .total {
            background-color: rgb(162, 157, 157);
            color: white;
        }
    </style>
</head>
<body>
    <header>
        Examination results automator
    </header>
    <div class="overall-container">
        <div class="units-insertion">
            <label for="unit">Enter the No of units:</label><br>
            <input id="unit" autofocus class="input-box" type="number" placeholder="Enter here...">
            <button class="submit-button">submit</button>
        </div>
        <table></table>
        <div class="container"></div>
    </div>

    <script>
        const codes = [];
        let yearFinish = "";
        let sum = 0;
        let scores = [];

        document.querySelector('.input-box').addEventListener('keydown', (event) => {
            if (event.key === 'Enter') {
                generateTable();
            }
        });

        document.querySelector('.submit-button').addEventListener('click', () => {
            generateTable();
        });

        function generateTable() {
            const input = document.querySelector('.input-box').value;
            const table = document.querySelector('table');
            table.innerHTML = `
                <caption>
                    provision transcript for ${year()}${yearFormat()} year of study
                </caption>
                <tr>
                    <th>units</th>
                    <th>score</th>
                    <th>grade</th>
                </tr>`;

            noUnits(input);
            fetchScores(input);
            display(input);
            total(input);
            document.querySelector('.input-box').value = "";
        }

        function noUnits(input) {
            for (let i = 0; i < input; i++) {
                let code = prompt(`Enter code for unit ${i + 1}:`);
                codes[i] = code.toUpperCase();
            }
        }

        function yearFormat() {
            let format = "";
            if (yearFinish == 3) { format = "RD"; }
            else if (yearFinish == 2) { format = "ND"; }
            else if (yearFinish == 1) { format = "ST"; }
            else { format = "TH"; }
            return format;
        }

        function year() {
            const studyYear = prompt('Enter year of study:');
            yearFinish = studyYear;
            return studyYear;
        }

        function fetchScores(input) {
            sum = 0;
            for (let i = 0; i < input; i++) {
                scores[i] = parseInt(prompt(`Enter score for ${codes[i]}:`));
                sum += scores[i];
            }
        }

        function display(input) {
            let table = document.querySelector('table');
            for (let i = 0; i < input; i++) {
                let row = document.createElement('tr');
                let td1 = document.createElement('td');
                let td2 = document.createElement('td');
                let td3 = document.createElement('td');
                table.append(row);
                row.append(td1, td2, td3);
                td1.innerText = codes[i];
                td2.innerText = scores[i];

                if (scores[i] >= 70 && scores[i] < 100) { td3.innerText = 'A'; }
                else if (scores[i] >= 60 && scores[i] < 70) { td3.innerText = 'B'; }
                else if (scores[i] >= 50 && scores[i] < 60) { td3.innerText = 'C'; }
                else if (scores[i] >= 40 && scores[i] < 50) { td3.innerText = 'D'; }
                else { td3.innerText = 'E'; }
            }
        }

        function total(input) {
            let table = document.querySelector('table');
            let percentage = sum / input;
            let row = document.createElement('tr');
            table.append(row);

            let td1 = document.createElement('td');
            row.append(td1);
            td1.innerText = `Percentage: ${percentage.toFixed(2)} %`;
            td1.className = 'total';
 let td3 = document.createElement('td');
            row.append(td3);
            td3.innerText = `Total: ${sum}`;
            td3.className = 'total';

            let td2 = document.createElement('td');
            row.append(td2);
            if (percentage >= 70 && percentage < 100) { td2.innerText = 'Grade: A'; }
            else if (percentage >= 60 && percentage < 70) { td2.innerText = 'Grade: B'; }
            else if (percentage >= 50 && percentage < 60) { td2.innerText = 'Grade: C'; }
            else if (percentage >= 40 && percentage < 50) { td2.innerText = 'Grade: D'; }
            else { td2.innerText = 'Grade: E'; }
            td2.className = 'total';

           
        }
    </script>
</body>
</html>
